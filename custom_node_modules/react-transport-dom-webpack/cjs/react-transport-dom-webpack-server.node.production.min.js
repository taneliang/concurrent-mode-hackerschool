/** @license React vundefined
 * react-transport-dom-webpack-server.node.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';var g=require("react");function h(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)b+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k=JSON.stringify;function l(a,b,d){a=k(d,a.toJSON);b=0===b?a+"\n":"J"+b.toString(16)+":"+a+"\n";return Buffer.from(b,"utf8")}
var m=60103,n=60107,p=60108,r=60114,t=60112,u=60113,v=60120,w=60115,x=60116,y=60121,z=60122,A=60119,B=60129,C=60130,D=60131;
if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;m=E("react.element");n=E("react.fragment");p=E("react.strict_mode");r=E("react.profiler");t=E("react.forward_ref");u=E("react.suspense");v=E("react.suspense_list");w=E("react.memo");x=E("react.lazy");y=E("react.block");z=E("react.server.block");A=E("react.scope");B=E("react.debug_trace_mode");C=E("react.offscreen");D=E("react.legacy_hidden")}var F=Array.isArray,G=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;
function H(a,b,d){var c=[],e={destination:b,bundlerConfig:d,nextChunkId:0,pendingChunks:0,pingedSegments:c,completedJSONChunks:[],completedErrorChunks:[],flowing:!1,toJSON:function(a,b){return I(e,this,a,b)}};e.pendingChunks++;b=J(e,function(){return a});c.push(b);return e}
function K(a){var b=a.type,d=a.props;if(null!==a.ref&&void 0!==a.ref)throw Error(h(379));if("function"===typeof b)return b(d);if("string"===typeof b||b[0]===z)return[m,b,a.key,a.props];if(b===n||b===p||b===r||b===A||b===B||b===D||b===C||b===u||b===v)return a.props.children;if(null!=b&&"object"===typeof b)switch(b.$$typeof){case t:return a=b.render,a(d,void 0);case w:return d=g.createElement(b.type,a.props),K(d)}throw Error(h(351,L(b)));}
function M(a,b){var d=a.pingedSegments;d.push(b);1===d.length&&setImmediate(function(){return N(a)})}function J(a,b){var d={id:a.nextChunkId++,query:b,ping:function(){return M(a,d)}};return d}function O(a){return Object.prototype.toString.call(a).replace(/^\[object (.*)\]$/,function(a,d){return d})}function P(a){var b=JSON.stringify(a);return'"'+a+'"'===b?a:b}
function L(a){switch(typeof a){case "string":return JSON.stringify(10>=a.length?a:a.substr(0,10)+"...");case "object":if(F(a))return"[...]";a=O(a);return"Object"===a?"{...}":a;case "function":return"function";default:return String(a)}}
function Q(a,b){if(F(a)){for(var d="[",c=0;c<a.length;c++){0<c&&(d+=", ");if(6<c){d+="...";break}var e=a[c];d=""+c===b&&"object"===typeof e&&null!==e?d+Q(e):d+L(e)}return d+"]"}d="{";c=Object.keys(a);for(e=0;e<c.length;e++){0<e&&(d+=", ");if(6<e){d+="...";break}var f=c[e];d+=P(f)+": ";var q=a[f];d=f===b&&"object"===typeof q&&null!==q?d+Q(q):d+L(q)}return d+"}"}
function I(a,b,d,c){switch(c){case m:return"$";case z:return"@";case x:case y:throw Error(h(352));}if(b[0]===z)switch(d){case "1":try{return a.bundlerConfig[c]}catch(f){return a.pendingChunks++,b=a.nextChunkId++,R(a,b,f),"$"+b.toString(16)}case "2":b=c;try{return b()}catch(f){if("object"===typeof f&&null!==f&&"function"===typeof f.then)return a.pendingChunks++,a=J(a,b),b=a.ping,f.then(b,b),"$"+a.id.toString(16);a.pendingChunks++;b=a.nextChunkId++;R(a,b,f);return"$"+b.toString(16)}default:throw Error(h(353));
}for(;"object"===typeof c&&null!==c&&c.$$typeof===m;){var e=c;try{c=K(e)}catch(f){if("object"===typeof f&&null!==f&&"function"===typeof f.then)return a.pendingChunks++,a=J(a,function(){return c}),b=a.ping,f.then(b,b),"$"+a.id.toString(16);throw f;}}if("object"===typeof c)return c;if("string"===typeof c)return a="$"===c[0]||"@"===c[0]?"$"+c:c,a;if("boolean"===typeof c||"number"===typeof c||"undefined"===typeof c)return c;if("function"===typeof c){if(/^on[A-Z]/.test(d))throw Error(h(374,P(d),Q(b)));
throw Error(h(375,P(d),c.displayName||c.name||"function",Q(b)));}if("symbol"===typeof c)throw Error(h(376,c.description,P(d),Q(b)));if("bigint"===typeof c)throw Error(h(377,c,P(d),Q(b)));throw Error(h(378,typeof c,P(d),Q(b)));}
function R(a,b,d){var c="";try{if(d instanceof Error){var e=""+d.message;c=""+d.stack}else e="Error: "+d}catch(f){e="An error occurred but serializing the error message failed."}d={message:e,stack:c};b="E"+b.toString(16)+":"+k(d)+"\n";b=Buffer.from(b,"utf8");a.completedErrorChunks.push(b)}
function S(a,b){var d=b.query,c;try{for(c=d();"object"===typeof c&&null!==c&&c.$$typeof===m;)d=c,b.query=function(){return c},c=K(d);var e=l(a,b.id,c);a.completedJSONChunks.push(e)}catch(f){"object"===typeof f&&null!==f&&"function"===typeof f.then?(a=b.ping,f.then(a,a)):R(a,b.id,f)}}function N(a){var b=G.current;G.current=T;var d=a.pingedSegments;a.pingedSegments=[];for(var c=0;c<d.length;c++)S(a,d[c]);a.flowing&&U(a);G.current=b}var V=!1;
function U(a){if(!V){V=!0;var b=a.destination;"function"===typeof b.cork&&b.cork();try{for(var d=a.completedJSONChunks,c=0;c<d.length;c++)if(a.pendingChunks--,!b.write(d[c])){a.flowing=!1;c++;break}d.splice(0,c);var e=a.completedErrorChunks;for(c=0;c<e.length;c++)if(a.pendingChunks--,!b.write(e[c])){a.flowing=!1;c++;break}e.splice(0,c)}finally{V=!1,"function"===typeof b.uncork&&b.uncork()}"function"===typeof b.flush&&"function"!==typeof b.flushHeaders&&b.flush();0===a.pendingChunks&&b.end()}}
function W(a){a.flowing=!0;setImmediate(function(){return N(a)})}function X(){throw Error(h(373));}var T={useMemo:function(a){return a()},useCallback:function(a){return a},useDebugValue:function(){},useDeferredValue:function(a){return a},useTransition:function(){return[function(){},!1]},readContext:X,useContext:X,useReducer:X,useRef:X,useState:X,useLayoutEffect:X,useImperativeHandle:X,useEffect:X,useOpaqueIdentifier:X,useMutableSource:X};function Y(a,b){return function(){b.flowing=!0;U(b)}}
exports.pipeToNodeWritable=function(a,b,d){a=H(a,b,d);b.on("drain",Y(b,a));W(a)};
